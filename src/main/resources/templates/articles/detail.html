<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
  <title th:text="${article.title}">Article</title>
</head>
<body>
<h2 th:text="${article.title}"></h2>
<p>
  <small>
    by <span th:text="${article.author.name}"></span>,
    <span th:text="${#dates.format(article.createdOn, 'dd MMM yyyy HH:mm')}"></span>
  </small>
</p>

<p th:text="${article.content}"></p>

<hr/>
<h3>Comments</h3>
<ul>
  <li th:each="comment : ${comments}">
    <p th:text="${comment.comment}"></p>
    <small>
      â€” <span th:text="${comment.commentor.name}"></span>
      <span th:text="${#dates.format(comment.createdOn, 'dd MMM yyyy HH:mm')}"></span>
    </small>
  </li>
</ul>

<!-- Comment form -->
<hr/>
<h4>Add a Comment</h4>
<form th:action="@{/articles/{id}/comments(id=${article.id})}" method="post">
  <textarea name="comment" rows="3" cols="40" placeholder="Write your comment..." required></textarea><br/>
  <button type="submit">Post Comment</button>
</form>

<a href="/articles">Back to Articles</a>
</body>
</html>
